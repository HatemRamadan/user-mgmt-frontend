<div *ngIf="groupsReady" class="container mt-4">
    <div class="row">
        <div class="col-md-3 card card--big" data-toggle="modal" data-target="#myModal2">
            <img src="assets/add.png" style="width: 80px; height: 80px; margin-left: 35%; margin-top: 40%">
        </div>


        <div class="col-md-3 card card--big" *ngFor="let group of groups" (click)="showMembers(group)"
            data-toggle="modal" data-target="#myModal">
            <div class="card__image" style="background-image: url(https://placeimg.com/640/480/nature);"></div>
            <h2 class="card__title">{{group.name}}</h2><span class="card__subtitle">By Mattia Astorino</span>
            <p class="card__text">{{group.description}}</p>
        </div>
    </div>
</div>

<!-- The Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Group Members</h4>
                <button type="button" id="modalClose" class="close" (click)="closeModal()"
                    data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">

                <div class="form-group row">
                    <ul>
                        <li *ngFor="let user of users">
                            <div class="form-inline">
                                <h5>{{user.username}}</h5>
                                <button class="close mb-1 ml-1" (click)="removeUser(user.username)">&times;</button>
                            </div>
                        </li>
                        <li>

                            <input type="text" placeholder="Username" [(ngModel)]="username"> <button
                                class="btn btn-primary ml-2 mb-1" (click)="addUser()">Add User</button>
                        </li>
                    </ul>
                </div>

            </div>

            <!-- Modal footer -->
            <div class="modal-footer">


                <div *ngIf="showSaved" class="alert-success mt-1 mb-0">Added</div>
                <div *ngIf="showDeleted" class="alert-success mt-1 mb-0">Deleted!</div>
                <div *ngIf="showUserDeleted" class="alert-success mt-1 mb-0">Removed!</div>
                <button type="button" class="btn btn-danger" (click)="deleteGroup()">Delete
                    Group</button>
            </div>


        </div>
    </div>
</div>

<!-- The Modal -->
<div class="modal" id="myModal2">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Add Group</h4>
                <button type="button" id="modal2Close" class="close" (click)="closeModal()"
                    data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">

                <div class="form-group row">

                    <label class="col-sm-2 col-form-label" for="name">Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" [(ngModel)]="group2.name">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="description">Description</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="description" [(ngModel)]="group2.description">
                    </div>
                </div>

            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="addGroup()">Save</button>
                <div *ngIf="showSaved" class="alert-success mt-3 mb-0">Saved!</div>
            </div>

        </div>
    </div>
</div>